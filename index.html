<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Server-side Development with Node.js</title>

		<meta name="description" content="This is an introduction to node.js curriculum, developed by Emma for the Boston chapter.

        The course is meant to be taught in 4 two-hour sections. Each of the slides and practice files are customizable according to the needs of a given class or audience.">
		<meta name="author" content="Girl Develop It">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link rel="stylesheet" href="reveal/css/reveal.css">
		<link rel="stylesheet" href="reveal/css/theme/gdidefault.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- For syntax highlighting -->
		<!-- light editor<link rel="stylesheet" href="lib/css/light.css">-->
		<!-- dark editor--><link rel="stylesheet" href="reveal/lib/css/dark.css">

		<!-- If use the PDF print sheet so students can print slides-->

		<link rel="stylesheet" href="reveal/css/print/pdf.css" type="text/css" media="print">

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
        <!-- Opening slide -->
            <section>
                <h3>Server-side Development with Node.js</h3>
                <img src="images/nodejs.png" alt="">
            </section>

            <section>
                <h2>What do backend languages do?</h2>
                <p>Three examples of interactions between an app’s frontend and backend such as:</p>
                <ul>
                    <li class="fragment">1. Requesting a resource from an app’s home page like a specific page</li>
                    <ul>
                        <li class="fragment">Example: a file is served by an application’s backend server</li>
                    </ul>
                </ul>
                <img class="fragment" src="images/staticfileserver.png" width="500px" alt="Static File Server Diagram">
            </section>

            <section>
                <h2>What do backend languages do?</h2>
                <ul>
                    <li class="fragment">2. Storing information and saving it in a database like PostgreSQL, MySQL or MongoDB</li>
                    <ul>
                        <li class="fragment">Example: for an online bookstore user information(name, username, favorite book categories etc..) and book information(book title, year published, price, quantity available, etc...)</li>
                    </ul>  
                </ul>
                <img class="fragment" src="images/database-1928236_960_720.png" width="300px" alt="database graphic">
            </section>

            <section>
                <h2>What do backend languages do?</h2>
                <ul>
                    <li class="fragment">3. Application user authentication</li>
                    <ul>
                        <li class="fragment">Example: Logging in with local information (username and password) and social authentication(GitHub, FB, Google, etc...)</li>
                    </ul>
                </ul>
                <img src="images/password.jpg" class="fragment" alt="Username and Password"></img>
            </section>

            <section>
                <h2>In summary...</h2>
                <a href="http://blog.teamtreehouse.com/i-dont-speak-your-language-frontend-vs-backend">Helpful Article</a>
            </section>

            <section>
                <h3>What is Node.js?</h3>
                <ul>
                    <li class="fragment">Node.js is an open source project designed to help you write JavaScript programs that talk to networks, file systems, or other I/O (input/output, reading/writing) sources</li>
                    <li class="fragment">aka. SERVER-SIDE JAVASCRIPT!!</li>
                </ul>
                <img class="fragment" src="images/wow.webp" alt="wow!">
            </section>

            <section>
                <h3>But what does that mean?</h3>
                <ul>
                    <li class="fragment">Low barrier to entry - if you know Javascript, you'll learn Node in no time</li>
                    <li class="fragment">It gives you only what you need</li>
                    <li class="fragment">Great community and lots of open source node modules</li>
                    <li class="fragment">It's very fast at I/O operations</li>
                </ul>
                <img class="fragment" src="images/node-fundamentals.jpg" alt="Node Network">
            </section>

            <section>
                <h2>Interactions</h2>
                <img src="images/interactions.png" alt="Server and Database Interactions">
            </section>

            <section>
                <h2>Single Thread</h2>
                <img src="images/singlethread.png" alt="Single Thread Illustration">
            </section>

            <section>
                <h2>Some terms!</h2>
                <ul>
                    <li class="fragment"><a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">Event-driven</a></li>
                    <li class="fragment">Non-blocking</li> 
                    <li class="fragment">Concurrent connections</li>
                    <li class="fragment">V8 engine</li>
                </ul>
            </section>

            <section>
                <h2>Diagram</h2>
                <p>V8 Engine</p>
                <img src="images/GBbB3.png" alt="Node and C++ Core">
            </section>

            <section>
                <h2>Installing Node</h2>
                <a href="https://nodejs.org/en/">Go here!</a>
                <p>You will also install npm as you install node.js!</p>
            </section>

            <section>
                <h3>Node REPL Shell</h3>
                <ul>
                    <li>REPL: Read-Eval-Print Loop</li>
                    <li>Go to your Terminal and type in `node`</li>
                    <li>This will open an interactive node shell where you can execute any Javascript</li>
                    <li>To exit type ctrl+c two times</li>
                </ul>
                <pre><code>
> var string = 'hello';
> string
'hello'
> string + ' world'
'hello world'
                </code></pre>
                <p>Type ctrl + C to exit</p>
            </section>

            <section>
                <h2>More on REPL</h2>
                <p>In a REPL, the user enters one or more expressions and the REPL evaluates them and displays the results.</p>
                <ul>
                    <li class="fragment">The <strong style="color:yellow">read</strong> function accepts an expression from the user, and parses it into a data structure in memory.</li>
                    <li class="fragment">The <strong style="color:yellow">eval</strong> function takes this internal data structure and evaluates it.</li>
                    <li class="fragment">The <strong style="color:yellow">print</strong> function takes the result yielded by eval, and prints it out to the user.</li>
                    <li class="fragment">The development environment then returns to the read state, creating a <strong style="color:yellow">loop</strong>, which terminates when the program is closed.</li>
                </ul>
            </section>

            <section>
                <h3>Exercise</h3>
                <p>Let's write your first Node.js program. Git clone the <a href="https://github.com/enspencer/gdi-node-class1">gdi-node-class1 repository</a>. Inside that gdi-node-class1 directory make a new file called main.js. Place this code inside.</p>
                <pre><code>
console.log('Hello World!');
				</code></pre>
                <p>Save that file by clicking command+s and go to your Terminal. Type in the following and hit enter.</p>
                <pre><code>
node main.js
                </code></pre>
            </section>

            <section>
                <h3>Congrats!</h3>
                <p>You just executed your first node.js program. Now for the cool stuff.</p>
            </section>

            <section>
                <h3>Let's Put the I in I/O</h3>
                <p>Add a new file in your gdi-node-class1 directory called 'dinosaurs.txt'. Copy this list of awesome dinosaurs and paste it in your file: https://gist.github.com/enspencer/d9ddf51913f4841ec14f</p>
                <p>Go back to your main.js file.</p>
                <pre><code>
var fs = require('fs');
var cwd = process.cwd();

fs.readFile(cwd + '/dinosaurs.txt', function(err, data) {
  console.log(data.toString());
});
				</code></pre>
                <p>Now go to your Terminal and run it:
                <pre><code>
    node main.js
                </code></pre>
                </p>
            </section>

            <section>
                <h3>Parsing Text</h3>
                <p>Now let's turn the text into an array:</p>
                <pre><code>
var fs = require('fs');
var cwd = process.cwd();

fs.readFile(cwd + '/dinosaurs.txt', function(err, data) {
  var data = data.toString().split('\n');
  console.log(data[0]);
});
                </code></pre>
                <p>And run the program again.</p>
            </section>

            <section>
                <h3>What did we just do?</h3>
                <ul>
                    <li>Used fs, one of node's core modules</li>
                    <li>Read an external text file</li>
                    <li>Converted the contents of that file from a Buffer to a string</li>
                </ul><p></p>
                <h4>What happens if we don't convert data to a string?</h4>
                <p>Try removing '.toString()' from that line and running the program again.</p>
            </section>

            <section>
				<h3>What the heck is a buffer?</h3>
                <p>From the node docs:</p>
                <pre><code>
Pure JavaScript is Unicode friendly but not nice to binary data. When dealing with TCP streams or the file system, it's necessary to handle octet streams. Node.js has several strategies for manipulating, creating, and consuming octet streams.

Raw data is stored in instances of the Buffer class. A Buffer is similar to an array of integers but corresponds to a raw memory allocation outside the V8 heap.
                </code></pre>
            <p>What we care about is that a Buffer is a byte array that can be converted to a human-readable string by adding .toString()</p>
			</section>

            <section>
				<h3>Let's Develop It</h3>
                <p>In your main.js file, change 'dinosaurs.txt' to 'people.json' and paste the json from here: https://gist.github.com/enspencer/b58d6b190505d278b0e9</p><br>
                <p>We can use the same fs.readFile function to read JSON. Remember we need to convert the Buffer to a string. This time we'll also parse that string back into JSON.</p>
                <pre><code>
fs.readFile(cwd + '/curriculum/class1/people.json', function(err, data) {
  var data = JSON.parse(data.toString());
  console.log(data);
});
                </code></pre>
			</section>
            <section>
                <h3>Parsing JSON</h3>

                <p>Now use your Javascript knowledge to select individual people in the object.</p>
                <pre><code>
data.people
                </code></pre>
                <pre><code>
data.people[0]
                </code></pre>
                <p>Have your program return the eye color of the person at the 3rd index.</p>
            </section>

            <section>
				<h3>Next up: A simple HTTP server</h3>
                <p>We're going to use node's http module to create a server. Create a new file called server.js</p>
                <pre><code>
var http = require('http');
http.createServer(function(req, res) {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World!\n');
}).listen(9000);

console.log('Server running on port 9000');
                </code></pre>
                <p>Now run your progam again and in your browser navigate to localhost:9000</p>
			</section>

            <section>
                <h3>Putting it all together</h3>
                <p>This exercise combines using an HTTP server and reading files. The goal is for your server to respond with the contents of a file.</p>
                <ul>
                    <li>Create a new Javascript file called file_parser.js</li>
                    <li>Create a new text file called mytext.txt and write something fun in it</li>
                    <li>In your JS file, create a new HTTP server and have it write some text in the response</li>
                    <li>Instead of writing text read mytext.txt into HTTP server's response</li>
                </ul>
            </section>

            <section>
                <h2>What is Express?</h2>
                <ul>
                    <li class="fragment">Most widely used Node.js framework</li>
                    <li class="fragment">Most applications are built with express or another framework instead of using bare Node without a framework</li>
                    <li class="fragment">Routing with HTTP request methods</li>
                    <li class="fragment">Requests and responses: Requests made to a certain route will return a page for that specific route</li>
                    <li class="fragment">Sending files</li>
                </ul>
            </section>

            <section>
                <h2>NPM</h2>
                <p class="fragment" style="text-align:left">Utility for downloading packages for Node.js applications</p>
                <p class="fragment" style="text-align:left">Creating a package.json file to store dependencies using the command “NPM init” in the app directory on the command line</p>
                <p class="fragment" style="text-align:left">Can use to install front-end code, add dependencies, and build tools too!</p>
                <p class="fragment" style="text-align:left"><a href="https://www.npmjs.com/">Check out the website</a></p>
                <img class="fragment" src="images/npm.png" alt="NPM logo">
            </section>

            <section>
                <h2>Modules</h2>
                <p>A module is a JavaScript library/file that you can import into other code using Node's require() function. Express itself is a module, as are the middleware and database libraries that we use in our Express applications.</p>
            </section>

            <section>
                <h2>Modules</h2>
                <p>You will want to create your own modules, because this allows you to organise your code into managable parts — a monolithic single-file application is hard to understand and maintain. Using modules also helps you manage your namespace, because only the variables you explicitly export are imported when you use a module.</p>
                <ul>
                    <li class="fragment"><a href="https://nodejs.org/api/modules.html#modules_modules">Document 1</a></li>
                    <li class="fragment"><a href="https://www.sitepoint.com/understanding-module-exports-exports-node-js/">Document 2</a></li>
                </ul>
            </section>

            <section>
                <h2>Middleware</h2>
                <p>Middleware functions are functions that have access to the request object (req), the response object (res), and the next middleware function in the application’s request-response cycle. The next middleware function is commonly denoted by a variable named next.</p>
            </section>

            <section>
                <h2>Middleware</h2>
                <p>Middleware functions can perform the following tasks:</p>
                <ul>
                    <li class="fragment">Execute any code.</li>
                    <li class="fragment">Make changes to the request and the response objects.</li>
                    <li class="fragment">End the request-response cycle.</li>
                    <li class="fragment">Call the next middleware function in the stack.</li>
                    <li class="fragment"><a href="https://expressjs.com/en/guide/using-middleware.html">Documentation</a></li>
                </ul>
            </section>

            <section>
                <h2>Review</h2>
                <a href="https://www.frontendmasters.com">Watch This Node Module in the Web Developer Course!</a>
                <p>Click here for <a href="https://nodejs.org/api/console.html">Node Documentation</a></p>
            </section>

            <section>
                <h3>Resources and Exercises</h3>
                    <ul>
                        <li><a href="https://www.codeschool.com/courses/real-time-web-with-node-js" target="_blank">Code School</a>, with interactive Node.js lessons to help you review</li>
                        <li><a href="https://github.com/maxogden/art-of-node" target="_blank">Art of Node</a>, by Max Ogden</li>
                        <li><a href="https://github.com/workshopper/learnyounode">Learn You Node</a>, another interactive intro</li>
                    </ul>
            </section>


			</div><!-- Close .slides -->
    </div><!-- Close .reveal -->


		<script src="reveal/lib/js/head.min.js"></script>
		<script src="reveal/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
                touch: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'reveal/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
